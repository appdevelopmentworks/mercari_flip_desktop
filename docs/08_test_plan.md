# テスト計画

## ユニットテスト（推奨）
- 利益計算：
  - fee_rate=0.10 の計算
  - shipping NULL の扱い（計算入力で必ず確定させる）
  - 損益分岐売価の計算
  - 目標利益ライン（min_price_for_target）
- 配送推定：
  - 寸法・重量の境界条件（max寸法/重量ちょうど）
  - enabled=0 のルール除外
- Offer正規化：
  - price/shipping が文字列→int 変換
  - shipping不明→NULL
  - total計算

## コネクタテスト（手動 + 軽い自動）
- 設定画面でキーを入れて接続テストが通る
- 1商品で楽天/Yahoo/Amazonが最低1件返す（返らない場合もUIが耐える）
- Tavilyは候補URLが0件でも落ちない

## UI手動テスト（受け入れ基準）
- 商品CRUD
- 候補更新（部分成功）
- 最安選択→利益計算反映
- 送料表編集→配送推定に反映
- CSVエクスポート

## 非機能
- 連打耐性：更新ボタン連打でクラッシュしない（UIは無効化/キュー化）
- macOS：keyring保存/読み出しが動く（許可の確認）
