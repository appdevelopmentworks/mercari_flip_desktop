# ログ / エラー / リトライ

## ログ
- 標準 logging を使用
- 出力先：./logs/app.log（ローテーション推奨）
- レベル：INFO/WARN/ERROR
- コネクタごとに logger name を分ける（例：app.clients.amazon）

## 例外方針
- UIは落とさない
- コネクタ失敗は “部分成功” を許容し、成功分だけUI表示

## リトライ
- 一般的なネットワーク失敗：最大1回
- 429/レート制限：リトライせず、UIに「時間を置いて再実行」表示（MVP）
- 署名エラー（Amazon）：設定ミスの可能性 → UIに「キー設定を確認」

## タイムアウト
- HTTPクライアントのタイムアウトを設定（例：10〜20秒）
- Tavily Extract はページにより遅いので別タイムアウトも可

## 監査用ログ（任意）
- “いつ・どの商品で・どのAPIを呼んだか” を offers.fetched_at と log で追えるようにする
